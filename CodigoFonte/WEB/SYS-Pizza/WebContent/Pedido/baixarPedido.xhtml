<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui">
	<!-- Uso de Tags JSF: Arvore de componente -->
	
	<f:view contentType="text/html"/>
	<h:head>
	<title>SYS</title>
	</h:head>
	<h:outputText value="Sistema SYS-Pizza" />
	<h:body align="center">
	
	<div align="center" style="margin-top:100px">
	<h:form id="form">
	
	<p:panel id ="panel1" header="Baixar Pedido">
	<h:panelGrid columns="2">
		
		
		<h:outputText  value="Codigo"/>
		<p:inputText id="codigo" value="#{itemBean.pedido.codigo}" />		
		
		</h:panelGrid>
		
		
		<p:selectOneRadio value="#{itemBean.tipoPedido}">
		<f:selectItem itemValue="1" itemLabel="Ativo" />
		<f:selectItem itemValue="2" itemLabel="Baixado" />

		</p:selectOneRadio>
		
		
		<p:commandButton id="btn" value="Pesquisar" update="form2" ajax="false" action="#{itemBean.pesquisarPedido}"/>
		</p:panel>
		</h:form>
		
		<h:form id="form2">
		
		<p:dataTable id="dataTable" rendered="#{itemBean.renderPedido}"  var="pedido" value="#{itemBean.listaPedido}"  
                 paginator="true" rows="10"  
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                 rowsPerPageTemplate="5,10,15">  
        <f:facet name="header">  
            Resultado da Pesquisa
        </f:facet>  
  
  
     <p:column>  
            <f:facet name="header">  
                <h:outputText value="Codigo" />  
            </f:facet>  
            <h:outputText value="#{pedido.codigo}" />  
        </p:column>  
  
  
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Status" />  
            </f:facet>  
            <h:outputText value="#{pedido.status}" />  
        </p:column>  
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Endereço" />  
            </f:facet>  
            <h:outputText value="#{pedido.endereco}" />  
        </p:column> 
  
        
        <p:column>  
            <f:facet name="header">  
                <h:outputText value="Ação" />  
            </f:facet>
            
            <p:commandLink actionListener="#{itemBean.baixarPedido}"  ajax="false" action="nada">  
            <h:outputText value="Baixar" />
            <f:param id="codigo" name="codigo" value="#{pedido.codigo}" />
            </p:commandLink>
            
           
              
        </p:column>       
  		    
    </p:dataTable>
		
		
		
		</h:form>
		</div>
	</h:body>
</html>